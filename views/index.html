<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Thermostat</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="/public/stylesheets/style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script> <!-- include socket.io client side script -->
  <script>
    var socket = io(); //load socket.io-client and connect to the host that serves the page
    window.addEventListener("load", function(){ //when page loads
      var lightbox = document.getElementById("heat"); 
      lightbox.addEventListener("change", function() { //add event listener for when checkbox changes
        socket.emit("heat", Number(this.checked)); //send button status to server (as 1 or 0)
      });
    });
    socket.on('heat', function (data) { //get button status from client
      document.getElementById("heat").checked = data; //change checkbox according to push button on Raspberry Pi
      socket.emit("heat", data); //send push button status to back to server
    });
  </script>
</head>

<body onload="startTime()">
  <div id="screen">
      <div id="main-homepage">
        <div id="hvac-control">
          <p><input type="checkbox" id="heat" class="button hvac-button heat"></p>
          <button id="auto" class="button hvac-button auto" onclick="auto()"></button>
          <button id="ac" class="button hvac-button ac" onclick="ac()"></button>
        </div>
        <div id="temp-container">
          <p id="curr-temp">30&#730;</p>
          <div id="status-container">
            <p id="hvac-status-id">Status: </p>
            <p id="hvac-status">OFF</p>
          </div>
        </div>
        <div id="adjust-container">
          <div id="adjust-box">
            <div id="arrow-up" onclick="adjustTemp('up', 'desired-temp')"></div>
            <p id="desired-temp-label">SET TEMP</p>
            <p id="desired-temp">60&#730;</p>
            <div id="arrow-down"  onclick="adjustTemp('down', 'desired-temp')"></div>
            <button id="hold" class="button hold-btn" onclick="hold()">HOLD</button>
          </div>
        </div>
      </div>
  </div>
</body>
</html>